/*
 * This source file was generated by the Gradle 'init' task
 */
package org.oclinchoco;
import org.chocosolver.solver.*;
import org.chocosolver.solver.variables.IntVar;
import org.chocosolver.util.tools.ArrayUtils;

import java.util.stream.IntStream;

public class ReferenceTable {
    int rows,cols,domain;

    Model csp;
    IntVar[][] ptr_matrix;
    IntVar[][] occ_matrix;

    public ReferenceTable(Model m, int n, int nn, int d){
        this.csp = m;
        this.rows=n; this.cols=nn; this.domain=d;

        this.ptr_matrix = csp.intVarMatrix(rows, cols, 0,domain);
        this.occ_matrix = csp.intVarMatrix(rows, domain+1, 0, cols);

        int[] values = IntStream.range(0, d+1).toArray();
        for(int i=0;i<n;i++) 
            csp.globalCardinality(ptr_matrix[i], values, occ_matrix[i], true).post();
    }
}